<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Modificar Perfil</title>
    <!-- Añade aquí tus estilos o referencias a CSS -->
    <link rel="stylesheet" href="../assets/css/ModificacionPerfil.css">
</head>

<body>
    <div class="container">
        <div class="form-container">
            <h2>Modificar Perfil</h2>
            <form id="formPerfil" action="backend/usuario/modificar_perfilBE.php" method="POST"
                enctype="multipart/form-data">

                <!-- Sección de Cambio de Contraseña -->
                <fieldset>
                    <legend>Cambio de Contraseña</legend>
                        <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault">
                        <label class="form-check-label" for="flexSwitchCheckDefault">Editar contraseña</label>
                      </div>
                        <div>
                            <label for="passwordActual">Contraseña Actual:</label>
                            <input type="password" id="passwordActual" name="passwordActual">
                        </div>
                        <div>
                            <label for="nuevaPassword">Nueva Contraseña:</label>
                            <input type="password" id="nuevaPassword" name="nuevaPassword">
                        </div>
                        <div>
                            <label for="confirmarPassword">Confirmar Nueva Contraseña:</label>
                            <input type="password" id="confirmarPassword" name="confirmarPassword">
                        </div>
                        
                </fieldset>
                <fieldset>
                    <legend>Cambio de Foto de Perfil</legend>
                        <div>
                            <label for="fotoPerfil">Foto de Perfil:</label>
                            <input type="file" id="fotoPerfil" name="fotoPerfil" accept="image/*">
                        </div>
                </fieldset>
                <fieldset>
                    <legend>Editar información de Usuario</legend>
                        <div>
                            <label for="cargo">Cargo:</label>
                            <input type="text" id="cargo" name="cargo">
                        </div>
                        <div>
                            <label for="nombre">Nombre:</label>
                            <input type="text" id="nombre" name="nombre">
                        </div>
                        <div>
                            <label for="nombre_corto">Nombre y Cargo Abreviado:</label>
                            <input type="text" id="nombre_corto" name="nombre_corto">
                        </div>
                </fieldset>
                <fieldset>
                    <legend>Certificado Nacional de Prestadores Individuales de Salud</legend>
                    <div>
                        <label for="certificado">Cargar Documento (extraído desde https://rnpi.superdesalud.gob.cl/):</label>
                        <input type="file" id="certificado" name="certificado" accept="application/pdf">
                    </div>
                </fieldset>          
                <input type="hidden" name="usuario" value="<?php echo $_SESSION['usuario']; ?>">      
                <button type="submit" name="modificarPerfil">Modificar Perfil</button>
            </form>
        </div>
    </div>
    <script>
        document.getElementById('formPerfil').addEventListener('submit', function (event) {
            var password = document.getElementById('nuevaPassword').value;
            var confirmPassword = document.getElementById('confirmarPassword').value;

            // Validar que las contraseñas coincidan
            if (password !== confirmPassword) {
                alert('Las contraseñas no coinciden.');
                event.preventDefault(); // Prevenir el envío del formulario
                return false;
            }

            // Validación adicional aquí si es necesario
        });
    </script>

</body>

</html>