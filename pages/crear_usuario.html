<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Crear Usuario</title>
    <!-- Asegúrate de incluir el CSS para estilizar tu formulario aquí -->
</head>
<body>
    <div class="container">
        <h2>Formulario para Crear Usuario</h2>
        <form id="formCrearUsuario" action="backend/usuario/crear_usuario.php" method="POST">
            <div class="form-group">
                <label for="nombreUsuario">Nombre:</label>
                <input type="text" class="form-control" id="nombreUsuario" name="nombreUsuario" required>
            </div>
            <div class="form-group">
                <label for="correoElectronico">Correo Institucional:</label>
                <input type="email" class="form-control" id="correoElectronico" name="correoElectronico" required>
            </div>
            <div class="form-group">
                <label for="usuario">Usuario:</label>
                <input type="text" class="form-control" id="usuario" name="usuario" readonly>
            </div>
            <div class="form-group">
                <label for="rol">Rol:</label>
                <select class="form-control" id="rol" name="rol">
                    <?php

                    include 'pages/backend/roles/roles.php'; // Asegúrate de que la ruta es correcta
                    $roles = getRoles();
                    foreach ($roles as $rol) {
                        echo "<option value='" . $rol['id'] . "'>" . htmlspecialchars($rol['nombre']) . "</option>";
                    }
                    ?>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Crear Usuario</button>
        </form>
    </div>
    <script>
        document.getElementById('correoElectronico').addEventListener('input', function() {
            var correo = this.value;
            var usuario = correo.split('@')[0];
            document.getElementById('usuario').value = usuario;
        });
    </script>
</body>
</html>
