<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Crear Usuario</title>
    <!-- Asegúrate de incluir el CSS para estilizar tu formulario aquí -->
</head>
<body>
    <div class="container">
        <h2>Formulario para Crear Usuario</h2>
        <form id="formCrearUsuario" action="backend/usuario/crear_usuario.php" method="POST">
            <div class="form-group">
                <label for="nombreUsuario">Nombre:</label>
                <input type="text" class="form-control" id="nombreUsuario" name="nombreUsuario" required>
            </div>
            <div class="form-group">
                <label for="correoElectronico">Correo Institucional:</label>
                <input type="email" class="form-control" id="correoElectronico" name="correoElectronico" required>
            </div>
            <div class="form-group">
                <label for="usuario">Usuario:</label>
                <input type="text" class="form-control" id="usuario" name="usuario" readonly>
            </div>
            <div class="form-group">
                <label for="rol">Rol:</label>
                <select class="form-control" id="rol" name="rol">
                    <!-- Las opciones se cargarán mediante JavaScript -->
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Crear Usuario</button>
        </form>
    </div>
    <script>
        document.getElementById('correoElectronico').addEventListener('input', function() {
            var correo = this.value;
            var usuario = correo.split('@')[0];
            document.getElementById('usuario').value = usuario;
        });
        document.addEventListener('DOMContentLoaded', function() {
    fetch('backend/roles/roles.php')
    .then(response => response.json())
    .then(data => {
        const selectRol = document.getElementById('rol');
        data.forEach(rol => {
            let option = new Option(rol.nombre, rol.id);
            selectRol.add(option);
        });
    })
    .catch(error => {
        console.error('Error al cargar los roles:', error);
    });
});
    </script>
</body>
</html>
